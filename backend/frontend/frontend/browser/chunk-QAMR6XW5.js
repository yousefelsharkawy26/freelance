import{a as E}from"./chunk-JGT4MZGR.js";import{a as T}from"./chunk-BLFAYJVN.js";import{a as P}from"./chunk-OZ5MZI67.js";import{l as C,m as y}from"./chunk-P2267LYS.js";import{$ as _,$a as h,Fa as u,Ka as p,Ra as f,Ta as g,Wa as t,Xa as i,Ya as d,Za as b,_a as x,aa as v,ab as o,bb as S,cb as m,d as B,va as r,wa as l}from"./chunk-TZDKJ7CT.js";var c=B(T());function D(a,n){a&1&&(t(0,"span",21),o(1,"approved"),i())}function F(a,n){a&1&&(t(0,"span",22),o(1,"pending"),i())}function O(a,n){if(a&1){let e=b();t(0,"div",15)(1,"div",16)(2,"h4",17),o(3),i(),t(4,"ul",18)(5,"li")(6,"a",19),x("click",function(){let w=_(e).$implicit,k=h();return v(k.deleteProposal(w._id))}),d(7,"i",20),i()(),t(8,"li"),p(9,D,2,0,"span",21)(10,F,2,0,"span",22),i()()(),t(11,"div",23)(12,"div",24)(13,"ul",25)(14,"li")(15,"div",26)(16,"h5"),o(17),i(),t(18,"span"),o(19,"Hourly Rate"),i()()(),t(20,"li")(21,"div",26)(22,"h5"),o(23),i(),t(24,"span"),o(25,"Delivery Time"),i()()()()()()()}if(a&2){let e=n.$implicit;r(3),S(e.idService.name),r(6),g(e.status?9:10),r(8),m("$",(e.price/e.days/24).toFixed(),""),r(6),m("",e.days," days")}}var I=class a{constructor(n,e){this._proposal=n;this._user=e}userId;proposals;ngOnInit(){this.userId=this._user.getUserIdFromToken(),this._proposal.getProposalsByUserId(this.userId).subscribe({next:n=>{this.proposals=n}})}deleteProposal(n){c.default.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&this._proposal.deleteProposal(n).subscribe({next:s=>{c.default.fire({position:"top-end",icon:"success",title:"Deleted !",showConfirmButton:!1,timer:1500}),this.ngOnInit()}})})}static \u0275fac=function(e){return new(e||a)(l(E),l(P))};static \u0275cmp=u({type:a,selectors:[["app-proposals"]],decls:24,vars:1,consts:[[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"bredcrumb_wrap"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"_dashboard_content"],[1,"_dashboard_content_header"],[1,"_dashboard__header_flex"],[1,"ti-layers","mr-1"],[1,"_dashboard_content_body","p-0"],[1,"_grouping_list_task"],["class","_manage_task_list",4,"ngFor","ngForOf"],[1,"_manage_task_list"],[1,"_manage_task_list_flex"],[1,"_jb_title"],[1,"_action_grouping_list"],["data-toggle","tooltip","data-placement","top","title","","data-original-title","Delete Job",1,"_delete_point",2,"cursor","pointer",3,"click"],[1,"fa","fa-trash"],[1,"badge","bg-success","text-light","p-2"],[1,"badge","bg-warning","text-light","p-2"],[1,"_manage_task_list_right"],[1,"_act_tsk_info"],[1,"_act_tsk_list"],[1,"_act_capt_01"]],template:function(e,s){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),o(7,"Home"),i()(),t(8,"li",5)(9,"a",6),o(10,"Dashboard"),i()(),t(11,"li",7),o(12,"Active Bids"),i()()()()()(),t(13,"div",0)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",10)(18,"h4"),d(19,"i",11),o(20,"Active Bids"),i()()(),t(21,"div",12)(22,"div",13),p(23,O,26,4,"div",14),i()()()()()),e&2&&(r(23),f("ngForOf",s.proposals))},dependencies:[y,C],encapsulation:2})};export{I as ProposalsComponent};
