import{a as C,b as d,c as y,d as S,e as p,f as w,g as F,h as E,l as N,m as I}from"./chunk-PHZR7O2F.js";import{a as _}from"./chunk-OZ5MZI67.js";import{k as b,m as h}from"./chunk-P2267LYS.js";import{Fa as g,Ra as a,Wa as t,Xa as e,Ya as l,_a as v,ab as o,eb as s,va as n,wa as c}from"./chunk-TZDKJ7CT.js";var f=u=>({"form-control with-light":!0,error:u}),P=class u{constructor(i,m){this.formBuilder=i;this._user=m;this.form=this.formBuilder.group({firstname:new p("",d.required),lastname:new p("",d.required),email:new p("",[d.required,d.email]),password:new p("",[])})}user;userId;image;form;ngOnInit(){this.userId=this._user.getUserIdFromToken(),this._user.getUserById(this.userId).subscribe({next:i=>{this.user=i,this.form.reset(i)}})}selectImage(i){this.image=i.target.files[0]}save(){let i=new FormData;i.append("firstname",this.form.value.firstname),i.append("lastname",this.form.value.lastname),i.append("email",this.form.value.email),this.form.value.password&&i.append("password",this.form.value.password),this.image&&i.append("image",this.image),this._user.editUser(this.userId,i).subscribe({next:m=>{window.location.reload()}})}static \u0275fac=function(m){return new(m||u)(c(N),c(_))};static \u0275cmp=g({type:u,selectors:[["app-profile"]],decls:53,vars:14,consts:[[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"bredcrumb_wrap"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"_dashboard_content"],[1,"_dashboard_content_header"],[1,"_dashboard__header_flex"],[1,"fa","fa-user","mr-1"],[1,"_dashboard_content_body"],[1,"col-auto"],[1,"custom-file","avater_uploads"],["type","file","id","customFile",1,"custom-file-input",3,"change"],["for","customFile",1,"custom-file-label"],[1,"fa","fa-user"],[1,"col"],[3,"ngSubmit","formGroup"],[1,"col-xl-6","col-lg-6"],[1,"form-group"],["type","text","formControlName","firstname",3,"ngClass"],["type","text","formControlName","lastname",3,"ngClass"],["type","email","formControlName","email",3,"ngClass"],["type","password","formControlName","password",3,"ngClass"],["type","submit",1,"btn","btn-save",3,"disabled"]],template:function(m,r){m&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),o(7,"Home"),e()(),t(8,"li",5)(9,"a",6),o(10,"Dashboard"),e()(),t(11,"li",7),o(12,"My Profile"),e()()()()()(),t(13,"div",0)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",10)(18,"h4"),l(19,"i",11),o(20,"My Account"),e()()(),t(21,"div",12)(22,"div",0)(23,"div",13)(24,"div",14)(25,"input",15),v("change",function(B){return r.selectImage(B)}),e(),t(26,"label",16),l(27,"i",17),e()()(),t(28,"div",18)(29,"form",19),v("ngSubmit",function(){return r.save()}),t(30,"div",0)(31,"div",20)(32,"div",21)(33,"label"),o(34,"First Name"),e(),l(35,"input",22),e()(),t(36,"div",20)(37,"div",21)(38,"label"),o(39,"Last Name"),e(),l(40,"input",23),e()(),t(41,"div",20)(42,"div",21)(43,"label"),o(44,"Email"),e(),l(45,"input",24),e()(),t(46,"div",20)(47,"div",21)(48,"label"),o(49,"Password"),e(),l(50,"input",25),e()()(),t(51,"button",26),o(52,"Save Changes"),e()()()()()()()()),m&2&&(n(29),a("formGroup",r.form),n(6),a("ngClass",s(6,f,r.form.controls.firstname.touched&&r.form.controls.firstname.invalid)),n(5),a("ngClass",s(8,f,r.form.controls.lastname.touched&&r.form.controls.lastname.invalid)),n(5),a("ngClass",s(10,f,r.form.controls.email.touched&&r.form.controls.email.invalid)),n(5),a("ngClass",s(12,f,r.form.controls.password.touched&&r.form.controls.password.invalid)),n(),a("disabled",r.form.invalid))},dependencies:[h,b,I,w,C,y,S,F,E],encapsulation:2})};export{P as ProfileComponent};
