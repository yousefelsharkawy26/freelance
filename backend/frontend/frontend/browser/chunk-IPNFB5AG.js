import{a as M}from"./chunk-BLFAYJVN.js";import{a as y,b as a,c as F,d as N,e as c,f as E,g as L,h as _,l as k,m as I}from"./chunk-PHZR7O2F.js";import{a as h}from"./chunk-OZ5MZI67.js";import{d as S,e as b,g as w}from"./chunk-EX7ND36F.js";import{k as v,m as C}from"./chunk-P2267LYS.js";import{Fa as f,Ra as l,Wa as o,Xa as i,Ya as p,_a as g,ab as t,d as D,eb as u,va as m,wa as d}from"./chunk-TZDKJ7CT.js";var R=D(M());var B=s=>({"form-control":!0,error:s}),G=class s{constructor(r,n,e){this.formBuilder=r;this._user=n;this.router=e;this.form=this.formBuilder.group({email:new c("",[a.required,a.email]),password:new c("",[a.required,a.minLength(6)])})}form;ngOnInit(){window.scroll(1e3,0)}login(){this._user.login(this.form.value).subscribe({next:r=>{localStorage.setItem("token",r.token),console.log(r.token),this.router.navigate(["/client"])},error:r=>{R.default.fire({position:"top-end",icon:"error",title:"Email or password invaild",showConfirmButton:!1,timer:1500})}})}static \u0275fac=function(n){return new(n||s)(d(k),d(h),d(S))};static \u0275cmp=f({type:s,selectors:[["app-login"]],decls:25,vars:8,consts:[["role","document",1,"modal-dialog","modal-dialog-centered","login-pop-form"],["id","registermodal",1,"modal-content"],[1,"modal-header"],[1,"modal-body"],[1,"login-form"],[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","formControlName","email",3,"ngClass"],["type","password","formControlName","password",3,"ngClass"],["type","submit",1,"btn","dark-2","btn-md","full-width","pop-login",3,"disabled"],[1,"modal-footer"],[1,"mf-link"],[1,"ti-user"],["routerLink","/register",1,"theme-cl"]],template:function(n,e){n&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),t(4,"Sign In"),i()(),o(5,"div",3)(6,"div",4)(7,"form",5),g("ngSubmit",function(){return e.login()}),o(8,"div",6)(9,"label"),t(10,"E-mail"),i(),p(11,"input",7),i(),o(12,"div",6)(13,"label"),t(14,"Password"),i(),p(15,"input",8),i(),o(16,"div",6)(17,"button",9),t(18,"Login"),i()()()()(),o(19,"div",10)(20,"div",11),p(21,"i",12),t(22,"Haven't An Account?"),o(23,"a",13),t(24," Sign Up"),i()()()()()),n&2&&(m(7),l("formGroup",e.form),m(4),l("ngClass",u(4,B,e.form.controls.email.touched&&e.form.controls.email.invalid)),m(4),l("ngClass",u(6,B,e.form.controls.password.touched&&e.form.controls.password.invalid)),m(2),l("disabled",e.form.invalid))},dependencies:[w,b,I,E,y,F,N,L,_,C,v],encapsulation:2})};export{G as LoginComponent};
