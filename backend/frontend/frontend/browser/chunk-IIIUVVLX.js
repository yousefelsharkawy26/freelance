import{a as T}from"./chunk-JGT4MZGR.js";import{a as U}from"./chunk-TK5HVVDC.js";import{a as A}from"./chunk-BLFAYJVN.js";import{a as F,b as _,c as P,d as N,e as u,f as B,g as D,h as k,l as G,m as M}from"./chunk-PHZR7O2F.js";import{a as C}from"./chunk-OZ5MZI67.js";import{b as j,g as w}from"./chunk-EX7ND36F.js";import{l as E,m as I}from"./chunk-P2267LYS.js";import{Fa as x,Ka as y,Ra as s,Wa as e,Xa as t,Ya as o,_a as b,a as S,ab as i,b as h,bb as m,cb as d,d as z,ta as v,va as r,wa as p}from"./chunk-TZDKJ7CT.js";var g=z(A());function O(c,a){if(c&1&&(e(0,"div",54)(1,"div",55)(2,"div",56),o(3,"img",57),t(),e(4,"div",58)(5,"h4")(6,"a",59),i(7),o(8,"img",10),t()()()(),e(9,"div",60)(10,"div",61)(11,"h4"),i(12),t(),e(13,"span"),i(14),t()()()()),c&2){let l=a.$implicit;r(3),s("src","http://127.0.0.1:5000/image/"+l.idUser.image,v),r(4),m(l.idUser.firstname+" "+l.idUser.lastname),r(5),d("$",l.price,""),r(2),d("in ",l.days," days")}}var R=class c{constructor(a,l,n,f,V){this._service=a;this._proposal=l;this._user=n;this.fb=f;this.route=V;this.form=f.group({price:new u(0,[_.required]),days:new u(0,[_.required]),cover:new u("",[_.required])})}id;service;proposals;form;ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.getServiceProposals(),this._service.getServiceById(this.id).subscribe({next:a=>this.service=a}),window.scroll(1e3,0)}scroll(){window.scroll(0,900)}getServiceProposals(){this._proposal.getProposalsByServiceId(this.id).subscribe({next:a=>{this.proposals=a}})}send(){let a=h(S({},this.form.value),{idUser:this._user.getUserIdFromToken(),idService:this.id});this._proposal.create(a).subscribe({next:l=>{g.default.fire({position:"top-end",icon:"success",title:"Your proposal has been send",showConfirmButton:!1,timer:1500}),this.getServiceProposals(),this.form.reset()},error:l=>{g.default.fire({position:"top-end",icon:"error",title:"Something is wrong",showConfirmButton:!1,timer:1500})}})}static \u0275fac=function(l){return new(l||c)(p(U),p(T),p(C),p(G),p(j))};static \u0275cmp=x({type:c,selectors:[["app-service"]],decls:123,vars:17,consts:[[1,"page-title","search-form","dark"],[1,"container"],[1,"row"],[1,"col-lg-12","col-md-12"],[1,"_jb_details01"],[1,"_jb_details01_flex"],[1,"_jb_details01_authors"],["alt","",1,"img-fluid",3,"src"],[1,"_jb_details01_authors_caption"],[1,"jbs_title"],["src","assets/img/verify.svg","width","12","alt","",1,"ml-1"],[1,"jbx_info_list"],[1,"ti-briefcase"],[1,"ti-location-pin"],[1,"_jb_details01_last"],[1,"_flex_btn"],[1,"_applied_jb",3,"click"],[1,"gray-light"],[1,"col-lg-8","col-md-12","col-sm-12"],[1,"_job_detail_box"],[1,"_wrap_box_slice"],[1,"_job_detail_single"],[1,"_proposal_bids_list"],["class","_proposal_bids_single",4,"ngFor","ngForOf"],[1,"proposal-form",3,"ngSubmit","formGroup"],[1,"col-lg-6","col-md-12","col-sm-12"],[1,"form-group"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text","formControlName","price",1,"form-control"],["type","text","formControlName","days",1,"form-control"],[1,"col-lg-12","col-md-12","col-sm-12"],["rows","3","formControlName","cover",1,"form-control"],["type","submit",1,"btn_proposal_send",3,"disabled"],[1,"col-lg-4","col-md-12","col-sm-12"],[1,"_jb_summary","light_box"],[1,"_jb_summary_largethumb"],[1,"_jb_summary_thumb"],[1,"_jb_summary_caption"],[1,"pises_price"],[1,"_jb_summary_body"],[1,"_view_profile_btns"],["href","employer-detail.html",1,"btn","btn_emplo_eloi"],[1,"_jb_summary","light_box","p-4"],[1,"call-to-act",2,"background","#0b85ec url(assets/img/landing-bg.png) no-repeat"],[1,"row","justify-content-center"],[1,"col-lg-7","col-md-8"],[1,"clt-caption","text-center","mb-4"],[1,"text-light"],[1,"inner-flexible-box","subscribe-box"],["type","text","placeholder","Enter your mail here",1,"form-control","large"],["type","button",1,"btn","btn-subscribe","bg-dark"],[1,"fa","fa-arrow-right"],[1,"_proposal_bids_single"],[1,"_proposal_bids_flex"],[1,"_proposal_bids_thumb"],["alt","",1,"img-fluid","circle",3,"src"],[1,"_proposal_bids_caption","mt-3"],["href","freelancer-detail.html"],[1,"_proposal_bids_right"],[1,"_freelancer_rate"]],template:function(l,n){l&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),o(7,"img",7),t(),e(8,"div",8)(9,"h4",9),i(10),o(11,"img",10),t(),e(12,"ul",11)(13,"li")(14,"span"),o(15,"i",12),i(16),t()(),e(17,"li")(18,"span"),o(19,"i",13),i(20),t()()()()(),e(21,"div",14)(22,"ul",15)(23,"li")(24,"a",16),b("click",function(){return n.scroll()}),i(25,"Send Proposal"),t()()()()()()()()(),e(26,"section",17)(27,"div",1)(28,"div",2)(29,"div",18)(30,"div",19)(31,"div",20)(32,"div",21)(33,"h4"),i(34,"Job Duties:"),t(),e(35,"p"),i(36),t()()(),e(37,"div",20)(38,"div",21)(39,"h4"),i(40),t(),e(41,"div",22),y(42,O,15,4,"div",23),t()()(),e(43,"div",20)(44,"div",21)(45,"h4"),i(46,"Send Proposal"),t(),e(47,"form",24),b("ngSubmit",function(){return n.send()}),e(48,"div",2)(49,"div",25)(50,"div",26)(51,"label"),i(52,"Your Price"),t(),e(53,"div",27)(54,"div",28)(55,"span",29),i(56),t()(),o(57,"input",30),t()()(),e(58,"div",25)(59,"div",26)(60,"label"),i(61,"Days To Complete"),t(),e(62,"div",27)(63,"div",28)(64,"span",29),i(65,"Days"),t()(),o(66,"input",31),t()()(),e(67,"div",32)(68,"div",26)(69,"label"),i(70,"Cover Letter"),t(),o(71,"textarea",33),t()()(),e(72,"div",2)(73,"div",32)(74,"button",34),i(75,"Send Proposal"),t()()()()()()()(),e(76,"div",35)(77,"div",36)(78,"div",37),o(79,"img",7),t(),e(80,"div",38),o(81,"img",7),t(),e(82,"div",39)(83,"h4"),i(84),t(),e(85,"h4",40),i(86),e(87,"sub"),i(88,"/hourly"),t()()(),e(89,"div",41)(90,"div",42)(91,"a",43),i(92,"View Profile"),t()()()(),e(93,"div",44)(94,"h4"),i(95,"Job Explain"),t(),e(96,"ul")(97,"li"),i(98,"Categorie:"),e(99,"span"),i(100),t()(),e(101,"li"),i(102,"Location:"),e(103,"span"),i(104),t()(),e(105,"li"),i(106,"Salary:"),e(107,"span"),i(108),t()()()()()()()(),e(109,"section",45)(110,"div",1)(111,"div",46)(112,"div",47)(113,"div",48)(114,"h2",49),i(115,"Subscribe Now!"),t(),e(116,"p",49),i(117,"Simple pricing plans. Unlimited web maintenance service"),t()(),e(118,"div",50)(119,"div",27),o(120,"input",51),e(121,"button",52),o(122,"i",53),t()()()()()()()),l&2&&(r(7),s("src","http://127.0.0.1:5000/image/"+n.service.idUser.image,v),r(3),m(n.service.name),r(6),m(n.service.category),r(4),m(n.service.location),r(16),m(n.service.description),r(4),d("Project Bids( ",n.proposals.length," )"),r(2),s("ngForOf",n.proposals),r(5),s("formGroup",n.form),r(9),d(" ","@"," "),r(18),s("disabled",n.form.invalid),r(5),s("src","http://127.0.0.1:5000/image/"+n.service.image,v),r(2),s("src","http://127.0.0.1:5000/image/"+n.service.idUser.image,v),r(3),d("Posted By: ",n.service.idUser.firstname+" "+n.service.idUser.lastname,""),r(2),d("$",n.service.salary,""),r(14),m(n.service.category),r(4),m(n.service.location),r(4),d("$",n.service.salary,""))},dependencies:[w,M,B,F,P,N,D,k,I,E],encapsulation:2})};export{R as ServiceComponent};
