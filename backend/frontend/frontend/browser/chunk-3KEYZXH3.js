import{a as B}from"./chunk-JGT4MZGR.js";import{a as F}from"./chunk-BLFAYJVN.js";import{b as k}from"./chunk-EX7ND36F.js";import{m as I}from"./chunk-P2267LYS.js";import{$ as _,$a as c,Fa as g,Ka as C,Ra as w,Ta as P,Ua as y,Va as E,Wa as t,Xa as i,Ya as l,Za as f,_a as h,aa as v,ab as r,bb as x,cb as b,d as A,ta as S,va as a,wa as u}from"./chunk-TZDKJ7CT.js";var d=A(F());var D=(n,o)=>o._id;function V(n,o){if(n&1){let e=f();t(0,"li")(1,"a",26),h("click",function(){_(e);let p=c().$implicit,m=c();return v(m.accept(p._id))}),l(2,"i",27),r(3,"Accept Offer"),i()()}}function M(n,o){n&1&&(t(0,"li")(1,"a",28),l(2,"i",27),r(3,"Accepted"),i()())}function O(n,o){if(n&1){let e=f();t(0,"div",13)(1,"div",14)(2,"div",15)(3,"a",16),h("click",function(){let p=_(e).$implicit,m=c();return v(m.deleteProposal(p._id))}),l(4,"i",17),i()(),t(5,"div",18),l(6,"img",19),i(),t(7,"div",20)(8,"span",21),l(9,"i",22),r(10),i(),t(11,"h4",23)(12,"a",6),r(13),i()(),t(14,"div",24)(15,"ul")(16,"li"),r(17),t(18,"span"),r(19,"Fixed price"),i()(),t(20,"li"),r(21),t(22,"span"),r(23,"Delivery Time"),i()()()(),t(24,"div",25)(25,"ul"),C(26,V,4,0,"li")(27,M,4,0,"li"),i()()()()()}if(n&2){let e=o.$implicit;a(6),w("src","http://127.0.0.1:5000/image/"+e.idUser.image,S),a(4),x(e.location),a(3),x(e.idUser.firstname+" "+e.idUser.lastname),a(4),b("$",e.price,""),a(4),b("",e.days," Days"),a(5),P(e.status==!1?26:27)}}var T=class n{constructor(o,e){this._proposal=o;this._router=e}serviceId;proposals;ngOnInit(){this.serviceId=this._router.snapshot.params.id,this._proposal.getProposalsByServiceId(this.serviceId).subscribe({next:o=>{this.proposals=o}})}deleteProposal(o){d.default.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&this._proposal.deleteProposal(o).subscribe({next:s=>{d.default.fire({position:"top-end",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500}),this.ngOnInit()}})})}accept(o){this._proposal.acceptProposal(o).subscribe({next:e=>{d.default.fire({position:"top-end",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500}),this.ngOnInit()}})}static \u0275fac=function(e){return new(e||n)(u(B),u(k))};static \u0275cmp=g({type:n,selectors:[["app-service-proposals"]],decls:25,vars:0,consts:[[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12"],[1,"bredcrumb_wrap"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"_dashboard_content"],[1,"_dashboard_content_header"],[1,"_dashboard__header_flex"],[1,"fa","fa-user","mr-1"],[1,"_dashboard_content_body"],[1,"col-xl-4","col-lg-6","col-md-6"],[1,"_dash_grid_box"],[1,"_dash_remove_wrap"],["data-toggle","tooltip","data-placement","top","title","Remove",1,"_trash_removeal",3,"click"],[1,"fa","fa-trash"],[1,"_dash_grid_box_thumb"],[1,"img-fluid","circle",3,"src"],[1,"_dash_grid_box_caption"],[1,"_elopi_location"],[1,"ti-location-pin","mr-1"],[1,"_elcio_title"],[1,"_dash_usr_bid_rate"],[1,"_dash_usr_actioned"],["data-toggle","tooltip","data-placement","top","title","Accept Offer",1,"_download_cv",3,"click"],[1,"fa","fa-check"],["title","Accepted",1,"btn","_download_cv"]],template:function(e,s){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ol",4)(5,"li",5)(6,"a",6),r(7,"Home"),i()(),t(8,"li",5)(9,"a",6),r(10,"Dashboard"),i()(),t(11,"li",7),r(12,"Manage Bidders"),i()()()()()(),t(13,"div",0)(14,"div",1)(15,"div",8)(16,"div",9)(17,"div",10)(18,"h4"),l(19,"i",11),r(20,"Manage Bidders"),i()()(),t(21,"div",12)(22,"div",0),y(23,O,28,6,"div",13,D),i()()()()()),e&2&&(a(23),E(s.proposals))},dependencies:[I],encapsulation:2})};export{T as ServiceProposalsComponent};
